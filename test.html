<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–µ—Å—Ç –∑–∞–≥—Ä—É–∑–∫–∏</title>
    <style>
        body {
            font-family: monospace;
            background: #0a0a0a;
            color: #00ff88;
            padding: 2rem;
            line-height: 1.6;
        }
        .test {
            margin: 1rem 0;
            padding: 1rem;
            border: 1px solid #222;
            background: #111;
        }
        .success { color: #00ff88; }
        .error { color: #ff0088; }
        .warning { color: #ffaa00; }
        button {
            background: #00ff88;
            color: #0a0a0a;
            border: none;
            padding: 0.5rem 1rem;
            cursor: pointer;
            margin: 0.5rem;
        }
    </style>
</head>
<body>
    <h1>üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ —Å–∞–π—Ç–∞</h1>
    
    <div class="test">
        <h3>1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ HTML</h3>
        <p class="success">‚úÖ HTML –∑–∞–≥—Ä—É–∂–µ–Ω —É—Å–ø–µ—à–Ω–æ</p>
    </div>
    
    <div class="test">
        <h3>2. –ü—Ä–æ–≤–µ—Ä–∫–∞ JavaScript</h3>
        <p id="js-test" class="error">‚ùå JavaScript –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω</p>
    </div>
    
    <div class="test">
        <h3>3. –ü—Ä–æ–≤–µ—Ä–∫–∞ localStorage</h3>
        <p id="storage-test"></p>
    </div>
    
    <div class="test">
        <h3>4. –ü—Ä–æ–≤–µ—Ä–∫–∞ API –ø–æ–≥–æ–¥—ã</h3>
        <button onclick="testWeather()">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–≥–æ–¥—É</button>
        <p id="weather-test"></p>
    </div>
    
    <div class="test">
        <h3>5. –ü—Ä–æ–≤–µ—Ä–∫–∞ Canvas</h3>
        <p id="canvas-test"></p>
        <canvas id="testCanvas" width="100" height="100" style="border: 1px solid #00ff88;"></canvas>
    </div>
    
    <div class="test">
        <h3>6. –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –±—Ä–∞—É–∑–µ—Ä–µ</h3>
        <p id="browser-info"></p>
    </div>
    
    <div class="test">
        <h3>7. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–∞–π–ª–æ–≤</h3>
        <button onclick="testFiles()">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–∞–π–ª—ã</button>
        <div id="files-test"></div>
    </div>

    <script>
        // Test 2: JavaScript
        document.getElementById('js-test').innerHTML = '<span class="success">‚úÖ JavaScript —Ä–∞–±–æ—Ç–∞–µ—Ç</span>';
        
        // Test 3: localStorage
        try {
            localStorage.setItem('test', 'ok');
            const test = localStorage.getItem('test');
            localStorage.removeItem('test');
            document.getElementById('storage-test').innerHTML = test === 'ok' 
                ? '<span class="success">‚úÖ localStorage —Ä–∞–±–æ—Ç–∞–µ—Ç</span>'
                : '<span class="error">‚ùå localStorage –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç</span>';
        } catch (e) {
            document.getElementById('storage-test').innerHTML = '<span class="error">‚ùå localStorage –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω: ' + e.message + '</span>';
        }
        
        // Test 4: Weather API
        async function testWeather() {
            const el = document.getElementById('weather-test');
            el.innerHTML = '<span class="warning">‚è≥ –ü—Ä–æ–≤–µ—Ä–∫–∞...</span>';
            
            try {
                const controller = new AbortController();
                const timeoutId = setTimeout(() => controller.abort(), 10000);
                
                const response = await fetch(
                    'https://api.open-meteo.com/v1/forecast?latitude=55.0084&longitude=82.9357&current=temperature_2m&timezone=Asia%2FNovosibirsk',
                    { signal: controller.signal }
                );
                
                clearTimeout(timeoutId);
                
                if (response.ok) {
                    const data = await response.json();
                    el.innerHTML = `<span class="success">‚úÖ API —Ä–∞–±–æ—Ç–∞–µ—Ç! –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞: ${Math.round(data.current.temperature_2m)}¬∞C</span>`;
                } else {
                    el.innerHTML = `<span class="error">‚ùå API –≤–µ—Ä–Ω—É–ª –æ—à–∏–±–∫—É: ${response.status}</span>`;
                }
            } catch (error) {
                el.innerHTML = `<span class="error">‚ùå –û—à–∏–±–∫–∞: ${error.message}</span>`;
            }
        }
        
        // Test 5: Canvas
        try {
            const canvas = document.getElementById('testCanvas');
            const ctx = canvas.getContext('2d');
            ctx.fillStyle = '#00ff88';
            ctx.fillRect(10, 10, 80, 80);
            document.getElementById('canvas-test').innerHTML = '<span class="success">‚úÖ Canvas —Ä–∞–±–æ—Ç–∞–µ—Ç</span>';
        } catch (e) {
            document.getElementById('canvas-test').innerHTML = '<span class="error">‚ùå Canvas –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç: ' + e.message + '</span>';
        }
        
        // Test 6: Browser info
        document.getElementById('browser-info').innerHTML = `
            <span class="success">
                User Agent: ${navigator.userAgent}<br>
                –Ø–∑—ã–∫: ${navigator.language}<br>
                –û–Ω–ª–∞–π–Ω: ${navigator.onLine ? '–î–∞' : '–ù–µ—Ç'}<br>
                Cookies: ${navigator.cookieEnabled ? '–í–∫–ª—é—á–µ–Ω—ã' : '–û—Ç–∫–ª—é—á–µ–Ω—ã'}
            </span>
        `;
        
        // Test 7: Files
        async function testFiles() {
            const el = document.getElementById('files-test');
            el.innerHTML = '<span class="warning">‚è≥ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–∞–π–ª–æ–≤...</span>';
            
            const files = [
                'style.css',
                'script.js',
                'i18n.js',
                'index.html'
            ];
            
            let results = '';
            
            for (const file of files) {
                try {
                    const response = await fetch(file, { method: 'HEAD' });
                    if (response.ok) {
                        results += `<span class="success">‚úÖ ${file}</span><br>`;
                    } else {
                        results += `<span class="error">‚ùå ${file} (${response.status})</span><br>`;
                    }
                } catch (error) {
                    results += `<span class="error">‚ùå ${file} (${error.message})</span><br>`;
                }
            }
            
            el.innerHTML = results;
        }
        
        console.log('üîç –¢–µ—Å—Ç–æ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–∞');
        console.log('–û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12) –¥–ª—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏');
    </script>
</body>
</html>
